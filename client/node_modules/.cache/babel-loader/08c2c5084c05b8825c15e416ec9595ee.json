{"ast":null,"code":"var _jsxFileName = \"/Users/wrmtpp/Desktop/minipj58x115/client/src/components/Commentcovid.js\";\nimport React, { useState, useEffect } from 'react';\nimport { firestore } from './index';\nimport Task from './Task';\nimport '../Task.css';\n\nconst Commentcovid = () => {\n  const [tasks, setTasks] = useState([]);\n  const [name, setName] = useState('');\n  useEffect(() => {\n    retriveData();\n  }, []);\n\n  const retriveData = () => {\n    firestore.collection(\"tasks\").orderBy('id', 'asc').onSnapshot(snapshot => {\n      console.log(snapshot);\n      let myTask = snapshot.docs.map(d => {\n        const {\n          id,\n          name\n        } = d.data();\n        return {\n          id,\n          name\n        };\n      });\n      setTasks(myTask);\n    });\n  };\n\n  const renderTask = () => {\n    if (tasks && tasks.length) {\n      return tasks.map((task, index) => /*#__PURE__*/React.createElement(Task, {\n        key: index,\n        task: task,\n        deleteTask: deleteTask,\n        editTask: editTask,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 9\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 16\n        }\n      }, \"No task\");\n    }\n  };\n\n  const addTask = () => {\n    let id = tasks.length === 0 ? 1 : tasks[tasks.length - 1].id + 1;\n    firestore.collection(\"tasks\").doc(id + '').set({\n      id,\n      name\n    });\n  };\n\n  const deleteTask = id => {\n    firestore.collection('tasks').doc(id + '').delete();\n  };\n\n  const editTask = id => {\n    firestore.collection('tasks').doc(id + '').set({\n      id,\n      name\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"Todo\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      margin: '5px'\n    },\n    onClick: addTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      display: 'flex',\n      listStyle: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, renderTask()));\n};\n\nexport default Commentcovid;","map":{"version":3,"sources":["/Users/wrmtpp/Desktop/minipj58x115/client/src/components/Commentcovid.js"],"names":["React","useState","useEffect","firestore","Task","Commentcovid","tasks","setTasks","name","setName","retriveData","collection","orderBy","onSnapshot","snapshot","console","log","myTask","docs","map","d","id","data","renderTask","length","task","index","deleteTask","editTask","addTask","doc","set","delete","e","target","value","margin","display","listStyle"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {firestore} from './index'\nimport Task from './Task'\nimport '../Task.css'\n\nconst Commentcovid = () => {\n\n  const [tasks,setTasks] = useState([\n\n  ])\n  const [name, setName] = useState('')\n\n  useEffect( () => {\n    retriveData()\n  },[])\n\n  const retriveData = () => {\n    firestore.collection(\"tasks\").orderBy('id', 'asc').onSnapshot( snapshot => {\n      console.log(snapshot)\n      let myTask = snapshot.docs.map(d => {\n          const { id, name } = d.data()\n          return {id,name }\n      })\n      setTasks(myTask)\n    })\n  }\n\n\n\n\n  const renderTask =() =>{\n    if(tasks && tasks.length){\n      return tasks.map( (task,index) => (\n        <Task key = {index}\n              task = {task}\n              deleteTask = {deleteTask}\n              editTask = {editTask} />\n        )\n      )\n     \n    }else{\n      return ( <li>No task</li> )\n    }\n  }\n\n  const addTask = () =>{\n    let id = (tasks.length === 0) ? 1 : tasks[tasks.length - 1].id + 1\n       firestore.collection(\"tasks\").doc(id + '').set({ id, name })\n  }\n\n  const deleteTask = (id) =>{\n    firestore.collection('tasks').doc(id + '').delete()\n  }\n\n  const editTask = (id) => {\n    firestore.collection('tasks').doc(id + '').set({id,name})\n  }\n\n  return (\n    <div className='app-container'>\n      <h1>Todo</h1>\n      <input type=\"text\" name=\"name\" onChange={(e) => setName(e.target.value)} />\n      <button style={{margin:'5px'}} onClick={addTask} >Submit</button> \n      <ul style={{ display: 'flex', listStyle: 'none' }} >{ renderTask() }</ul>\n    </div>\n  );\n}\n\nexport default Commentcovid;"]},"metadata":{},"sourceType":"module"}